"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3395],{74015:function(e,r,t){t.d(r,{r:function(){return n}});var i=t(75766),a=t(68949);class n{setBreakpoint(e){for(let r of(this.breakpoints.push({lineNumber:e}),this.debuggers))r.setBreakpoint(e)}removeBreakpoint(e){for(let r of(this.breakpoints=this.breakpoints.filter(r=>r.lineNumber!==e),this.debuggers))r.removeBreakpoint(e)}setActiveLine(e){this.activeLine=e}addDebugger(e){return this.debuggers.add(e),()=>this.debuggers.delete(e)}constructor(){(0,i._)(this,"activeLine",0),(0,i._)(this,"breakpoints",[]),(0,i._)(this,"debuggers",new Set),(0,a.ky)(this)}}},63395:function(e,r,t){t.d(r,{IK:function(){return D},d$:function(){return C},ir:function(){return S}});var i=t(38966),a=t.n(i),n=t(67090),s=t(14757),l=t(99657),o=t(44164),d=t(10657),u=t(81197),h=t(91700);function c(e){return""!==e?parseInt(e,8):0}var f=t(79993),m=t(74015),p=t(75766),g=t(10786),b=t(96425);class v{createLibraryFile(){let{project:e}=this,r=e.findFile(l.vW);if(r)return r;let t=e.files.filter(e=>"sketch"===(0,l.r5)(e.name)).flatMap(e=>(0,g.h7)(e.content)).map(e=>b.i[e]).filter(e=>e),i=["# Wokwi Library List","# See https://docs.wokwi.com/guides/libraries",""],a=!1;for(let e of t)a||(i.push("# Automatically added based on includes:"),a=!0),i.push(e);return a&&i.push(""),e.addFile(l.vW,i.join("\n")+"\n")}addLibrary(e){let r=this.createLibraryFile(),t=r.content.split("\n");if(t.map(e=>e.trim()).includes(e))return;let i=e.split("@")[0],a=t.filter(e=>e.trim().split("@")[0]!==i).join("\n");a.endsWith("\n")||(a+="\n"),a+=e+"\n",r.update(a)}removeLibrary(e){let r=this.createLibraryFile(),t=r.content.split("\n").filter(r=>r.trim().split("@")[0]!==e).join("\n");r.update(t)}constructor(e){(0,p._)(this,"project",void 0),this.project=e}}let y=n.V5.model({name:n.V5.string,size:n.V5.number,serverId:n.V5.maybe(n.V5.string)}).volatile(()=>({buffer:null,progress:0,modified:!1,uploading:!1,downloading:!1,uploadFailed:!1,abort:new AbortController})).views(e=>({get transferring(){return e.uploading||e.downloading}})).actions(e=>({updateProgress(r){e.progress=r},completeUpload(r){e.uploading=!1,r?e.serverId=r:(e.uploadFailed=!0,e.modified=!1)},setBuffer(r){e.buffer=null!=r?r:null,e.downloading=!1},setPristine(){e.modified=!1}})).actions(e=>({async upload(r,t){if(!e.serverId&&!e.uploading){(0,u.DT)(t).then(r=>e.setBuffer(r)),e.uploading=!0,e.modified=!0;try{let i=await (0,o.cT)(r,t,{abortSignal:e.abort.signal,onProgress:r=>e.updateProgress(r.loaded/r.total)});e.completeUpload(i.fileId)}catch(r){console.error(r),e.completeUpload()}}},async afterCreate(){if(e.serverId){e.downloading=!0;try{let r=await (0,o.Sv)(e.serverId,{abortSignal:e.abort.signal,onProgress:r=>e.updateProgress(r.loaded/e.size)});e.setBuffer(r)}catch(r){console.error(r),e.setBuffer()}}},beforeDestroy(){e.abort.abort()}})),S="sdcard/",C=n.V5.model({name:n.V5.string,content:n.V5.string}).volatile(e=>({originalName:e.name,originalContent:e.content,deleted:!1,editorState:null,errors:[],debugger:new m.r})).views(e=>({get type(){return(0,l.r5)(e.name)},get modified(){return e.content!==e.originalContent||e.originalName!==e.name}})).actions(e=>({update(r){e.content=r},rename(r){e.name=r},setPristine(){e.originalContent=e.content,e.originalName=e.name},setEditorState(r){e.editorState=r}})),D=n.V5.model({name:n.V5.optional(n.V5.string,""),id:n.V5.maybe(n.V5.string),parentId:n.V5.maybe(n.V5.string),files:n.V5.array(C),serverFiles:n.V5.array(y),owner:n.V5.maybe(n.V5.string),ownerUsername:n.V5.maybe(n.V5.string),locked:n.V5.maybe(n.V5.boolean),unlisted:n.V5.optional(n.V5.boolean,!1),updated:n.V5.maybe(n.V5.Date),hearts:n.V5.optional(n.V5.number,0),userLiked:n.V5.optional(n.V5.boolean,!1),language:n.V5.maybe(n.V5.enumeration(["arduino","python","rust","other"]))}).volatile(e=>({binaryFiles:[],filesDeleted:!1,chips:[],libraryManager:new v(e),diagramInstance:f.S0.create(),lastDiagramContent:"",tempId:"temp-".concat(Math.random().toString(36).substring(2))})).views(e=>({get diagram(){let t=e.files.find(e=>"diagram"===e.type);if(!t)return null;if((null==t?void 0:t.content)!==e.lastDiagramContent)try{var r;(0,n.Xx)(e.diagramInstance,JSON.parse(null!==(r=null==t?void 0:t.content)&&void 0!==r?r:"null")),e.lastDiagramContent||e.diagramInstance.undoManager.reset()}catch(e){return console.warn("Failed to parse diagram",e),null}return e.diagramInstance},get readme(){return e.files.find(e=>"readme"===e.type)},get modified(){return e.files.some(e=>e.modified)||e.serverFiles.some(e=>e.modified)||e.filesDeleted},findFile:r=>e.files.find(e=>e.name===r),get isDBProject(){return e.id&&/^[0-9]+$/.test(e.id)},get url(){return e.id?(0,l.gd)(e.id):null},get sdCardFiles(){return e.serverFiles.filter(e=>e.name.startsWith(S))}})).views(e=>({chipExists(r){var t;return e.chips.some(e=>e.name===r)||e.files.some(e=>e.name==="".concat(r,".chip.json"))||(null===(t=e.diagram)||void 0===t?void 0:t.dependencies.get("chip-".concat(r,")")))!==void 0},get architecture(){var r,t,i;let a=null===(t=e.diagram)||void 0===t?void 0:null===(r=t.board)||void 0===r?void 0:r.mcuType;return a&&(null===(i=d.v[a])||void 0===i?void 0:i.arch)},get projectType(){var a,n,s,l;let r=null===(n=e.diagram)||void 0===n?void 0:null===(a=n.findMCU())||void 0===a?void 0:a.attrs.get("env"),t=null===(l=e.diagram)||void 0===l?void 0:null===(s=l.findMCU())||void 0===s?void 0:s.attrs.get("builder");if(null==r?void 0:r.startsWith("kaluma"))return"kaluma";if(null==r?void 0:r.startsWith("micropython"))return"micropython";if(null==r?void 0:r.startsWith("circuitpython"))return"circuitpython";if(null==t?void 0:t.includes("rust"))return"rust";if((null==t?void 0:t.includes("sdk"))||(null==r?void 0:r.includes("zephyr")))return"sdk";return"arduino"}})).actions(e=>({addFile(r){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.files.find(e=>e.name===r);if(a){if(i)return a.update(t),a;throw Error("File ".concat(r," already exists in project"))}let n=e.files.push({name:r,content:t,modified:!0});return e.files[n-1]},addBinaryFile(r,t){e.binaryFiles.push({name:r,content:t})},updateFile(r,t){let i=e.files.find(e=>e.name===r);null==i||i.update(t)},renameFile(r,t){var i;null===(i=e.findFile(r))||void 0===i||i.rename(t),r.endsWith(".ino")&&r===e.name&&(e.name=t)},removeFile(r){let t=e.findFile(r);t&&(t.deleted=!0,e.files.remove(t),e.filesDeleted=!0)},uploadFile(r,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=i+(0,u.pC)(t),s=e.serverFiles.find(e=>e.name===a);s&&(0,n.ob)(s);let l=y.create({name:a,size:t.size});l.upload(r,t),e.serverFiles.push(l)},removeServerFile(e){(0,n.ob)(e)},setName(r){e.name=r},changeId(r){e.id=r},changeOwner(r){e.owner!==r&&(e.ownerUsername=void 0,e.owner=r)},setPristine(){e.files.forEach(e=>e.setPristine()),e.serverFiles.forEach(e=>e.setPristine()),e.filesDeleted=!1},setLocked(r){e.locked=r},setUnlisted(r){e.unlisted=r},updateHearts(r){e.hearts=r},updateUserLike(r){e.userLiked=r},setChips(r){e.chips=r},setGCCErrors(r,t){for(let r of e.files)r.errors=[];let{errors:i,remainingOutput:a}=(0,s.qK)(r),n=e.files[0];for(let r of Object.keys(i)){let t=e.files.find(e=>e.name===r);t?t.errors=i[r]:n.errors.push(...i[r])}(r=(0,s.zf)(a)).length>0&&!t&&n.errors.push({type:"error",startLineNumber:1,endLineNumber:1,endColumn:1,startColumn:1,message:r})},syncDiagram(){let{diagram:r}=e;if(r){var t,i;e.lastDiagramContent=a()({...i=(0,n.vM)(r),parts:(i.parts||[]).map(e=>{let r={...e};return r.hide||delete r.hide,r.rotate||delete r.rotate,r})},null,2,100),null===(t=e.findFile("diagram.json"))||void 0===t||t.update(e.lastDiagramContent)}return e.diagram}})).actions(e=>({async updateFromServer(r){if(!e.id)return;let{userLiked:t}=await (0,o._L)(r,e.id);e.updateUserLike(t)},async loadEgg(r){let i=t.e(2655).then(t.bind(t,27885)),a=await fetch("https://wokwi.com/api/external/hatchery?egg=".concat(encodeURIComponent(r))),n=await a.arrayBuffer();for(let r of function*(e){let r=new h.B(e);for(;r.remaining>512;){let e=r.readChars(100),t=c(r.readChars(8)),i=c(r.readChars(8)),a=c(r.readChars(8)),n=c(r.readChars(12)),s=c(r.readChars(12)),l=c(r.readChars(8)),o=r.readChars(1),d=r.readChars(100),u=r.readChars(6),h=r.readChars(2),f="ustar"===u&&"00"===h,m=r.readChars(32),p=r.readChars(32),g=r.readChars(8),b=r.readChars(8),v=r.readChars(155);if(r.skip(12),!e&&!n&&!v)continue;let y=r.readBytes(n);n%512!=0&&r.skip(512-n%512),yield{name:f&&v?"".concat(v,"/").concat(e):e,mode:t,owner:i,group:a,size:n,lastModified:s,checksum:l,type:o,linkName:d,ownerName:f?m:"",groupName:f?p:"",devMajor:f?g:"",devMinor:f?b:"",data:y}}}((await i).inflate(n))){let t="app/"+r.name.split("/").slice(1).join("/");if(t.endsWith(".png")||t.endsWith(".mpy"))e.addBinaryFile(t,r.data);else{let i=new TextDecoder().decode(r.data);e.files.find(e=>e.name===t)?e.updateFile(t,i):e.addFile(t,i)}}}}))},10786:function(e,r,t){t.d(r,{h7:function(){return a},yz:function(){return i}}),t(79993),t(99657);let i={"AccelStepper.h":"AccelStepper","Adafruit_GFX.h":"Adafruit GFX Library","Adafruit_INA219.h":"Adafruit INA219","Adafruit_LEDBackpack.h":"Adafruit LED Backpack Library","Adafruit_MPU6050.h":"Adafruit MPU6050","Adafruit_NeoMatrix.h":"Adafruit NeoMatrix","Adafruit_NeoPixel.h":"Adafruit NeoPixel","Adafruit_SoftServo.h":"Adafruit SoftServo","Adafruit_ST7789.h":"Adafruit ST7735 and ST7789 Library","Adafruit_ST7735.h":"Adafruit ST7735 and ST7789 Library","Adafruit_ILI9341.h":"Adafruit ILI9341","Adafruit_Sensor.h":"Adafruit Unified Sensor","Adafruit_SSD1306.h":"Adafruit SSD1306","ArduinoJson.h":"ArduinoJson","BasicLinearAlgebra.h":"BasicLinearAlgebra","basicMPU6050.h":"basicMPU6050","blinker.h":"LC_baseTools","Bounce2.h":"Bounce2","Button.h":"Button","DallasTemperature.h":"DallasTemperature","dht.h":"DHTlib","DHT.h":"DHT sensor library","DHT_U.h":"DHT sensor library","DHTesp.h":"DHT sensor library for ESPx","DS3231.h":"DS3231","EEPROM.h":"EEPROM","Encoder.h":"Encoder","FastLED.h":"FastLED","FastLED_NeoMatrix.h":"FastLED NeoMatrix","FixedPoints.h":"FixedPoints","Geometry.h":"Geometry","I2Cdev.h":"MPU6050","idlers.h":"LC_baseTools","IRremote.h":"IRremote","IRremoteInt.h":"IRremote","Key.h":"Keypad","Keypad.h":"Keypad","lcdgfx.h":"lcdgfx","LedControl.h":"LedControl","lilParser.h":"LC_lilParser","LiquidCrystal.h":"LiquidCrystal","LiquidCrystal_I2C.h":"LiquidCrystal I2C","LiquidMenu.h":"LiquidMenu","MD_MAX72xx.h":"MD_MAX72XX","MD_Parola.h":"MD_Parola","mechButton.h":"LC_baseTools","Midier.h":"Midier","MPU6050.h":"MPU6050","MultiStepper.h":"AccelStepper","OneButton.h":"OneButton","OneWire.h":"OneWire","qrcode.h":"QRCode","PID_v1.h":"PID","pitches.h":"PlayRtttl","PlayRtttl.h":"PlayRtttl","protothreads.h":"Protothreads","pt.h":"Protothreads","RTClib.h":"RTClib","runningAvg.h":"LC_baseTools","SD.h":"SD","SdFat.h":"SdFat","Segment.h":"Segment","Servo.h":"Servo","ServoEasing.h":"ServoEasing","SevSeg.h":"SevSeg","ShiftDisplay.h":"ShiftDisplay","SimpleDHT.h":"SimpleDHT","SimpleTimer.h":"SimpleTimer","SoftwareSerial.h":"SoftwareSerial","SPI.h":"SPI","ssd1306.h":"ssd1306","SSD1306Ascii.h":"SSD1306Ascii","SSD1306AsciiWire.h":"SSD1306Ascii","SSD1306init.h":"SSD1306Ascii","Stepper.h":"Stepper","Talkie.h":"Talkie","TaskScheduler.h":"TaskScheduler","TimeLib.h":"Time","timeObj.h":"LC_baseTools","TimerOne.h":"TimerOne","Tiny4kOLED.h":"Tiny4kOLED","TinyDebug.h":"TinyDebug","TinyWireM.h":"TinyWireM","TM1637TinyDisplay.h":"TM1637TinyDisplay","U8glib.h":"U8glib","U8g2lib.h":"U8g2","U8x8lib.h":"U8g2","Ultrasonic.h":"Ultrasonic","VarSpeedServo.h":"VarSpeedServo","WiFiNINA.h":"WiFiNINA","Wire.h":"Wire"};function a(e){return Array.from(e.matchAll(/(^|\n)\s*#include\s*[<"]([^.]+\.h)[">]/g)).map(e=>e[2])}},14757:function(e,r,t){t.d(r,{qK:function(){return l},zf:function(){return o},GS:function(){return s}});var i=t(20014);let a="/sketch/",n="sketch.ino";function s(e,r){return e.split(a+n).join(r)}function l(e){let r=[...(0,i.parseString)(e),...function(e){let r=/(\n|^)(\/sketch\/[^:/]+\.S):(\d+): (Warning|Error): (.+)(\s*\n|$)/g,t=[],i=r.exec(e);for(;i;)t.push({filename:i[2],line:parseInt(i[3],10),type:i[4].toLowerCase(),text:i[5],column:1,tokenLength:999,startIndex:i.index,endIndex:i.index+i[0].length}),r.lastIndex--,i=r.exec(e);return t}(e)].slice(0,500),t={},s=null;t[n]=[],r.sort((e,r)=>e.startIndex==r.startIndex?"note"==e.type?1:-1:e.startIndex-r.startIndex);let l="";for(let i of r){var o,d,u;let{filename:r,line:h,column:c,tokenLength:f,text:m,type:p,startIndex:g,endIndex:b}=i,v=e.substring(null!==(d=null==s?void 0:s.endIndex)&&void 0!==d?d:0,g),y=/\r?\n?.+: In function '.+':\s*$/.exec(v),S=null!==(u=null==y?void 0:null===(o=y[0])||void 0===o?void 0:o.replace(/^\s*/g,""))&&void 0!==u?u:"";if(y&&(v=v.substring(0,y.index)),s?s.message+=v:l=v,"note"===p&&s&&s.startLineNumber===h&&s.startColumn===c){s.message+="\n"+m,s.endIndex=b;continue}if(r.startsWith(a)){let e=r.substring(a.length);s={type:p,startLineNumber:h,endLineNumber:h,startColumn:c,endColumn:c+(f||1),message:S+m,startIndex:g,endIndex:b},t[e]||(t[e]=[]),t[e].push(s)}else{let e=r.replace(/\/arduino\/hardware\/avr\/[0-9.]+\/cores/g,"");t[n].push({type:p,startLineNumber:1,endLineNumber:1,startColumn:1,endColumn:1,message:"".concat(e,":").concat(h,": ").concat(S+m),startIndex:g,endIndex:b})}}return s&&(s.message+=e.substr(s.endIndex).replace(/Error during build: exit status 1/,"").replace(/\s+$/,"")),{errors:t,remainingOutput:l}}function o(e){let r=e.replace(/.+\n.+\n[ \t]*#\s*pragma message "FastLED version 3\.\d+\.\d+".*\n.+/,"").trim();return"Error during build: exit status 1"===r?"":r}},96425:function(e,r,t){function*i(e){for(let r of e.split("\n")){let e=r.trim();e.length&&"#"!==e[0]&&(yield e)}}t.d(r,{h:function(){return i},i:function(){return a}});let a={"Adafruit_NeoPixel.h":"Adafruit NeoPixel","Adafruit_GFX.h":"Adafruit GFX Library","DHT.h":"DHT sensor library","DHT_U.h":"DHT sensor library","FastLED.h":"FastLED","Key.h":"Keypad","Keypad.h":"Keypad","LiquidCrystal.h":"LiquidCrystal","LiquidCrystal_I2C.h":"LiquidCrystal I2C","MD_Parola.h":"MD_Parola","RTClib.h":"RTClib","SD.h":"SD","Servo.h":"Servo","SevSeg.h":"SevSeg","U8glib.h":"U8glib"}},10657:function(e,r,t){t.d(r,{v:function(){return i}});let i={atmega328p:{arch:"avr",family:"avr"},atmega2560:{arch:"avr",family:"avr"},attiny85:{arch:"avr",family:"avr"},esp32:{arch:"xtensa",family:"esp32"},"esp32-s2":{arch:"xtensa",family:"esp32"},"esp32-s3":{arch:"riscv",family:"esp32"},"esp32-c3":{arch:"riscv",family:"esp32"},"esp32-c6":{arch:"riscv",family:"esp32"},"esp32-h2":{arch:"riscv",family:"esp32"},"esp32-p4":{arch:"riscv",family:"esp32"},rp2040:{arch:"arm",family:"rp2"},stm32c031c6:{arch:"arm",family:"stm32"},stm32f103c8:{arch:"arm",family:"stm32"},stm32l031k6:{arch:"arm",family:"stm32"},stm32l432kc:{arch:"arm",family:"stm32"}}},91700:function(e,r,t){t.d(r,{B:function(){return a}});var i=t(75766);class a{readUint8(){return this.buf[this.index++]}readUint16(){let{index:e}=this,r=this.buf[e],t=this.buf[e+1];return this.index+=2,t<<8|r}readUint32(){let{index:e}=this,r=this.buf[e],t=this.buf[e+1],i=this.buf[e+2],a=this.buf[e+3];return this.index+=4,(a<<24|i<<16|t<<8|r)>>>0}readInt32(){return 0|this.readUint32()}readBytes(e){let r=this.buf.subarray(this.index,this.index+e);return this.index+=e,r}readChars(e){let r=this.readBytes(e),t=r.indexOf(0);return t>=0&&(r=r.subarray(0,t)),this.decoder.decode(r)}readNullTerminated(){let e=this.buf.indexOf(0,this.index);e<0&&(e=this.buf.length);let r=this.decoder.decode(this.buf.subarray(this.index,e));return this.index=e+1,r}skip(e){this.index+=e}get currentOffset(){return this.index}get remaining(){let e=this.buf.length-this.index;return e>0?e:0}constructor(e){(0,i._)(this,"buf",void 0),(0,i._)(this,"index",void 0),(0,i._)(this,"decoder",void 0),this.buf=e,this.index=0,this.decoder=new TextDecoder}}}}]);